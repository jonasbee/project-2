(this["webpackJsonpproject-2-starter"]=this["webpackJsonpproject-2-starter"]||[]).push([[0],{51:function(e,t,c){},75:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(42),s=c.n(a),i=(c(50),c(51),c(30)),r=c(14),l=c.n(r),o=c(18),j=c(8),d=c(22),b=c(16),u=c(2);var m=function(e){var t=e.name,c=e.icon,n=e.tempC;return Object(u.jsx)(b.b,{to:"/weather/".concat(t),children:Object(u.jsxs)("div",{className:"weather-card",children:[Object(u.jsx)("p",{children:"".concat(t," ").concat(n,"\xb0C")}),Object(u.jsx)("img",{src:c,alt:"icon"}),Object(u.jsx)("p",{children:"Hold down for forecast"})]})})};var h=function(e){var t=e.latitude,c=e.longitude,n=e.altitude,a=e.weather,s=e.setPopup;return Object(u.jsx)("div",{children:Object(u.jsx)(d.a,{latitude:t,longitude:c,altitude:n,offsetTop:-30,onClose:function(){return s(!1)},closeButton:!1,children:Object(u.jsx)(m,{name:a.location.name,tempC:a.current.temp_c,icon:a.current.condition.icon})})})},O=c(25),p=c.n(O),x="d96f32e682c84cc8be7120926211005",v="https://api.weatherapi.com/v1";function f(e){var t=Object(j.a)(e,2),c=t[0],n=t[1];return p.a.get("".concat(v,"/current.json?key=").concat(x,"&q=").concat(n,",").concat(c,"&aqi=no"))}var N=function(){var e=Object(n.useState)({latitude:5,longitude:5,altitude:5,zoom:1,bearing:0,pitch:0}),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(null),r=Object(j.a)(s,2),b=r[0],m=r[1],O=Object(n.useState)(!1),p=Object(j.a)(O,2),x=p[0],v=p[1],N=function(){var e=Object(o.a)(l.a.mark((function e(t){var c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(t);case 3:c=e.sent,n=c.data,m(n),console.log("data",n),v(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"map-container",children:Object(u.jsx)(d.b,Object(i.a)(Object(i.a)({mapboxApiAccessToken:"pk.eyJ1Ijoiam9uYXNiZWUiLCJhIjoiY2tvaWtsMmgwMDJ6azJubndjNDAzaXRybiJ9.XUc9zeZ2A0vQs0CNJ8n1ig",mapStyle:"mapbox://styles/mapbox/streets-v11",width:"100%",height:"100%",onViewportChange:function(e){return a(e)},onClick:function(e){console.log(e),N(e.lngLat)}},c),{},{className:"is-fullheight-with-navbar",children:x&&Object(u.jsx)(h,{latitude:b.location.lat,longitude:b.location.lon,altitude:c.altitude,setPopup:v,weather:b})}))})},g=c(7);function w(e){var t=e.localtime.split(":"),c=Object(j.a)(t,2),a=c[0],s=c[1],i=Object(n.useState)((new Date).getSeconds()),r=Object(j.a)(i,2),l=r[0],o=r[1],d=Object(n.useState)(Number(s)),b=Object(j.a)(d,2),m=b[0],h=b[1],O=Object(n.useState)(Number(a)),p=Object(j.a)(O,2),x=p[0],v=p[1];return Object(n.useEffect)((function(){setTimeout((function(){l<59?o(l+1):(o(0),m<59?h(Number(m+1)):(h(0),v(x<23?Number(x+1):0)))}),1e3)}),[l]),Object(u.jsxs)("h4",{className:"title is-4",children:["Local Time: ","".concat(("0"+x).slice(-2),":").concat(("0"+m).slice(-2),":").concat(("0"+l).slice(-2))]})}var y=function(e){var t=e.date,c=e.condition,n=e.maxTemp,a=e.minTemp,s=e.tempUnit;return Object(u.jsxs)("div",{className:"column is-third",children:[Object(u.jsx)("h5",{className:"title is-5",children:t.split("-").reverse().join("/")}),Object(u.jsxs)("div",{className:"columns",children:[Object(u.jsxs)("div",{className:"column is-half",children:[Object(u.jsx)("p",{children:c.text}),Object(u.jsx)("img",{src:c.icon,alt:"icon"})]}),Object(u.jsxs)("div",{className:"column is-half",children:[Object(u.jsxs)("p",{children:["Max: ",n,"\xb0",s.toUpperCase()]}),Object(u.jsxs)("p",{children:["Min: ",a,"\xb0",s.toUpperCase()]})]})]})]})};var k=function(){var e=Object(n.useState)(null),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(null),i=Object(j.a)(s,2),r=i[0],d=i[1],b=Object(n.useState)(null),m=Object(j.a)(b,2),h=m[0],O=m[1],f=Object(n.useState)(!1),N=Object(j.a)(f,2),k=N[0],S=N[1],C=Object(n.useState)(0),U=Object(j.a)(C,2),J=U[0],T=U[1],M=[{system:"Metric",temp:"c",wind:"kph"},{system:"Imperial",temp:"f",wind:"mph"}],_=Object(g.g)().name;return Object(n.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n=_,p.a.get("".concat(v,"/forecast.json?key=").concat(x,"&q=").concat(n,"&days=3&aqi=no"));case 3:t=e.sent,c=t.data,O(c.forecast),a(c.current),d(c.location),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),S(!0),console.log(e.t0);case 14:case"end":return e.stop()}var n}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[_]),Object(u.jsx)("section",{className:"section",children:k?Object(u.jsx)("h1",{className:"title is-1",children:"Oops, we failed to find the forecast here :("}):Object(u.jsxs)("div",{className:"container",children:[r&&c&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"columns",children:[Object(u.jsx)("div",{className:"column is-two-thirds",children:Object(u.jsx)("h1",{className:"title is-1",children:r.name})}),Object(u.jsx)("div",{className:"column is-one-third",children:Object(u.jsxs)("button",{className:"button is-warning",onClick:function(){T(J?0:1),console.log(M[J].system)},children:["Change to ",M[J?0:1].system]})})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"columns",children:[Object(u.jsxs)("div",{className:"column is-third",children:[Object(u.jsxs)("h4",{className:"title is-4",children:["Country: ",r.country]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("h4",{className:"title is-4",children:["Region: ",r.region]}),Object(u.jsx)("hr",{}),Object(u.jsx)(w,{localtime:r.localtime.split(" ")[1]})]}),Object(u.jsxs)("div",{className:"column is-third",children:[Object(u.jsx)("h4",{className:"title is-4",children:c.condition.text}),Object(u.jsx)("hr",{}),Object(u.jsxs)("h4",{className:"title is-4",children:[c["temp_".concat(M[J].temp)],"\xb0",M[J].temp.toUpperCase()]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("h4",{className:"title is-4",children:["Wind: ",c["wind_".concat(M[J].wind)]," ",M[J].wind," ",c.wind_dir]}),Object(u.jsx)("hr",{})]}),Object(u.jsxs)("div",{className:"column is-third",children:[Object(u.jsxs)("h4",{className:"title is-4",children:["UV: ",c.uv]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("h4",{className:"title is-4",children:["Humidity: ",c.humidity,"%"]}),Object(u.jsx)("hr",{}),Object(u.jsx)("img",{src:c.condition.icon})]})]})]}),h?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:"title is-2",children:"3 Day Forecast"}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"columns",children:h.forecastday.map((function(e){return Object(u.jsx)(y,{date:e.date,maxTemp:e.day["maxtemp_".concat(M[J].temp)],minTemp:e.day["mintemp_".concat(M[J].temp)],condition:e.day.condition,tempUnit:M[J].temp},e.date)}))})]}):Object(u.jsx)("h2",{children:"Loading Forecast..."})]})})};var S=function(){var e=Object(g.f)(),t=Object(n.useState)(null),c=Object(j.a)(t,2),a=c[0],s=c[1],i=function(){var t=Object(o.a)(l.a.mark((function t(c){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.preventDefault(),n=a.split(" ").join("%20"),e.push("/weather/".concat(n));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsx)("nav",{className:"navbar is-dark is-fullwidth",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"navbar-brand",children:Object(u.jsx)(b.b,{to:"/",className:"navbar-item",children:"Weather World Map"})}),Object(u.jsx)("div",{className:"navbar-menu",children:Object(u.jsx)("div",{className:"navbar-end",children:Object(u.jsxs)("form",{type:"search",onSubmit:i,children:[Object(u.jsx)("span",{className:"navbar-item is-inline-block",children:Object(u.jsx)("span",{className:"field",children:Object(u.jsx)("span",{className:"control",children:Object(u.jsx)("input",{className:"input",type:"search",placeholder:"City name",onKeyUp:function(e){s(e.target.value)}})})})}),Object(u.jsx)("span",{className:"navbar-item is-inline-block",children:Object(u.jsx)("span",{className:"field",children:Object(u.jsx)("button",{type:"submit",className:"button is-warning",children:"Search"})})})]})})})]})})};var C=function(){return Object(u.jsx)(b.a,{children:Object(u.jsxs)("div",{className:"main-container",children:[Object(u.jsx)(S,{}),Object(u.jsxs)(g.c,{children:[Object(u.jsx)(g.a,{exact:!0,path:"/",component:N}),Object(u.jsx)(g.a,{path:"/weather/:name",component:k})]})]})})};s.a.render(Object(u.jsx)(C,{}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.d340540d.chunk.js.map